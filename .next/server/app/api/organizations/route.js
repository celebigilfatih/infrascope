"use strict";(()=>{var e={id:995,ids:[995]};e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7805:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>x,patchFetch:()=>v,requestAsyncStorage:()=>l,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var a={};r.r(a),r.d(a,{GET:()=>u,POST:()=>p});var n=r(9303),o=r(8716),s=r(670),i=r(7070),c=r(3493);async function u(e){try{const e=await c._.organization.findMany({include:{buildings:{include:{floors:{include:{rooms:{include:{racks:!0}}}}}}}});return i.NextResponse.json({success:!0,data:e,timestamp:new Date})}catch(t){return console.error("Error fetching organizations:",t),i.NextResponse.json({success:!1,error:"Failed to fetch organizations",timestamp:new Date},{status:500})}}async function p(e){try{const t=await e.json(),{name:r,code:a,description:n}=t;if(!r||!a)return i.NextResponse.json({success:!1,error:"Name and code are required",timestamp:new Date},{status:400});const o=await c._.organization.create({data:{name:r,code:a,description:n}});return i.NextResponse.json({success:!0,data:o,timestamp:new Date},{status:201})}catch(t){return console.error("Error creating organization:",t),i.NextResponse.json({success:!1,error:"Failed to create organization",timestamp:new Date},{status:500})}}const d=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/organizations/route",pathname:"/api/organizations",filename:"route",bundlePath:"app/api/organizations/route"},resolvedPagePath:"D:\\Dev\\infraScope\\app\\api\\organizations\\route.ts",nextConfigOutput:"standalone",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=d,x="/api/organizations/route";function v(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},3493:(e,t,r)=>{r.d(t,{_:()=>n});const a=require("@prisma/client"),n=global.prisma||new a.PrismaClient({log:[]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=t.X(0,[276,972],(()=>{return e=7805,t(t.s=e);var e}));module.exports=r})();