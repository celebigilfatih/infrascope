"use strict";(()=>{var e={id:63,ids:[63]};e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},739:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>l,routeModule:()=>p,serverHooks:()=>v,staticGenerationAsyncStorage:()=>m});var s={};r.r(s),r.d(s,{GET:()=>u,POST:()=>d});var a=r(9303),n=r(8716),i=r(670),o=r(7070),c=r(3493);async function u(e){try{const e=await c._.device.findMany({include:{rack:{include:{room:{include:{floor:{include:{building:!0}}}}}},networkInterfaces:!0,services:!0}});return o.NextResponse.json({success:!0,data:e,timestamp:new Date})}catch(t){return console.error("Error fetching devices:",t),o.NextResponse.json({success:!1,error:"Failed to fetch devices",timestamp:new Date},{status:500})}}async function d(e){try{const t=await e.json(),{name:r,type:s,vendor:a,model:n,serialNumber:i,assetTag:u,criticality:d,status:p,rackId:l,rackUnitPosition:m}=t;if(!r||!s)return o.NextResponse.json({success:!1,error:"Name and type are required",timestamp:new Date},{status:400});const v=await c._.device.create({data:{name:r,type:s,vendor:a,model:n,serialNumber:i,assetTag:u,criticality:d||"MEDIUM",status:p||"UNKNOWN",rackId:l,rackUnitPosition:m?parseInt(m):null}});return o.NextResponse.json({success:!0,data:v,timestamp:new Date},{status:201})}catch(t){return console.error("Error creating device:",t),o.NextResponse.json({success:!1,error:"Failed to create device",timestamp:new Date},{status:500})}}const p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/devices/route",pathname:"/api/devices",filename:"route",bundlePath:"app/api/devices/route"},resolvedPagePath:"D:\\Dev\\infraScope\\app\\api\\devices\\route.ts",nextConfigOutput:"standalone",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:v}=p,g="/api/devices/route";function y(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:m})}},3493:(e,t,r)=>{r.d(t,{_:()=>a});const s=require("@prisma/client"),a=global.prisma||new s.PrismaClient({log:[]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=t.X(0,[276,972],(()=>{return e=739,t(t.s=e);var e}));module.exports=r})();