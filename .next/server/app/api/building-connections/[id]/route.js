"use strict";(()=>{var e={id:451,ids:[451]};e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9673:(e,n,t)=>{t.r(n),t.d(n,{originalPathname:()=>w,patchFetch:()=>h,requestAsyncStorage:()=>g,routeModule:()=>l,serverHooks:()=>b,staticGenerationAsyncStorage:()=>m});var i={};t.r(i),t.d(i,{DELETE:()=>p,GET:()=>d,PUT:()=>u});var s=t(9303),o=t(8716),r=t(670),a=t(7070),c=t(3493);async function d(e,{params:n}){try{const{id:e}=n,t=await c._.buildingConnection.findUnique({where:{id:e},include:{sourceBuilding:!0,destBuilding:!0}});return t?a.NextResponse.json({success:!0,data:t,timestamp:new Date}):a.NextResponse.json({success:!1,error:"Building connection not found",timestamp:new Date},{status:404})}catch(t){return console.error("Error fetching building connection:",t),a.NextResponse.json({success:!1,error:"Failed to fetch building connection",timestamp:new Date},{status:500})}}async function u(e,{params:n}){try{const{id:t}=n,i=await e.json(),{name:s,connectionType:o,sourceBuildingId:r,destBuildingId:d,status:u,bandwidth:p,distance:l,fiberType:g,cableSpecs:m,provider:b,circuitId:w,notes:h}=i,x=await c._.buildingConnection.update({where:{id:t},data:{name:s,connectionType:o,sourceBuildingId:r,destBuildingId:d,status:u,bandwidth:p,distance:l?parseFloat(l):null,fiberType:g,cableSpecs:m,provider:b,circuitId:w,notes:h}});return a.NextResponse.json({success:!0,data:x,timestamp:new Date})}catch(t){return console.error("Error updating building connection:",t),a.NextResponse.json({success:!1,error:"Failed to update building connection",timestamp:new Date},{status:500})}}async function p(e,{params:n}){try{const{id:e}=n;return await c._.buildingConnection.delete({where:{id:e}}),a.NextResponse.json({success:!0,message:"Building connection deleted successfully",timestamp:new Date})}catch(t){return console.error("Error deleting building connection:",t),a.NextResponse.json({success:!1,error:"Failed to delete building connection",timestamp:new Date},{status:500})}}const l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/building-connections/[id]/route",pathname:"/api/building-connections/[id]",filename:"route",bundlePath:"app/api/building-connections/[id]/route"},resolvedPagePath:"D:\\Dev\\infraScope\\app\\api\\building-connections\\[id]\\route.ts",nextConfigOutput:"standalone",userland:i}),{requestAsyncStorage:g,staticGenerationAsyncStorage:m,serverHooks:b}=l,w="/api/building-connections/[id]/route";function h(){return(0,r.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:m})}},3493:(e,n,t)=>{t.d(n,{_:()=>s});const i=require("@prisma/client"),s=global.prisma||new i.PrismaClient({log:[]})}};var n=require("../../../../webpack-runtime.js");n.C(e);var t=n.X(0,[276,972],(()=>{return e=9673,n(n.s=e);var e}));module.exports=t})();